"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[151],{4151:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m,emptyColorForm:()=>u});var i=a(3216),o=a(5043),n=a(3865),r=a(2719),l=a(6444);const s=(0,l.Ay)({name:(0,l.j2)(),code:(0,l.j2)()});var c=a(579);const d=(0,o.lazy)((()=>Promise.all([a.e(366),a.e(511)]).then(a.bind(a,5892)))),u={name:"",code:"#eeeeee"},m=()=>{const{getOneColorLogic:e,updateColorLogic:t,storeColorLogic:a,oneColor:l}=(0,n.A)(),{id:m}=(0,i.g)(),h=void 0!==m,f=(0,r.eA)({initialValues:h?{name:l.name,code:l.code}:u,validationSchema:s,onSubmit:e=>{h?t(e,m,(0,r.fe)(f)):a(e,(0,r.fe)(f))}});(0,o.useEffect)((()=>{h&&e(m)}),[]);const{handleChange:g,handleSubmit:v,handleBlur:p,values:b,errors:A,isValid:S,isSubmitting:C,setFieldValue:y,resetForm:j}=f;return(0,c.jsx)(d,{inUpdate:h,formikObject:{handleBlur:p,handleChange:g,handleSubmit:v,values:b,errors:A,isSubmitting:C,isValid:S,setFieldValue:y,resetForm:j}})}},3865:(e,t,a)=>{a.d(t,{A:()=>d});var i=a(3003),o=a(6272),n=a(5026),r=a(2215),l=a(2719),s=a(3216),c=a(1884);const d=()=>{const e=(0,i.wA)(),t=(0,s.Zp)(),a=(0,i.d4)((e=>e.colorsReducer)),d=a.all.data,u=a.all.meta,m=a.show.data,h=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;t=void 0===t?(0,o.Ac)():t,e((0,r.wN)(!0)),n.A.get("/admin/colors",{params:t}).then((t=>{e((0,r.EL)(t.data.data)),e((0,r.P$)(t.data.meta))})).finally((()=>e((0,r.wN)(!1))))};return{all:d,meta:u,oneColor:m,getAllColorsLogic:h,storeColorLogic:(e,a)=>{const{setSubmitting:i}=a;i(!0),n.A.post("/admin/colors",e).then((()=>t(c.A.TABLE))).catch((e=>(0,l.dM)(e.response.data,a))).finally((()=>i(!1)))},updateColorLogic:(e,a,i)=>{const{setSubmitting:o}=i;o(!0),n.A.put("/admin/colors/".concat(a),e).then((()=>t(c.A.TABLE))).catch((e=>(0,l.dM)(e.response.data,i))).finally((()=>o(!1)))},deleteColorLogic:e=>{n.A.delete("admin/colors/".concat(e)).then((()=>h()))},getOneColorLogic:t=>{e((0,r.IQ)(!0)),n.A.get("/admin/colors/".concat(t)).then((t=>{e((0,r.i3)(t.data.data))})).finally((()=>e((0,r.IQ)(!1))))}}}},2719:(e,t,a)=>{a.d(t,{fe:()=>h,dM:()=>m,eA:()=>u});var i=a(3892),o=a(5173),n=a.n(o);const r=e=>{let{initialValues:t,validationSchema:a,onSubmit:i,overrideConfig:o}=e;return{initialValues:t,validateOnBlur:!0,validateOnChange:!1,validateOnMount:!1,enableReinitialize:!0,validationSchema:a,onSubmit:i,...o}};r.propTypes={initialValues:n().object,validationSchema:n().object.isRequired,onSubmit:n().func.isRequired};const l=r;var s=a(6762),c=a(5431),d=a(9546);const u=e=>{const t=l(e);return(0,i.Wx)(t)},m=(e,t)=>{if(e.code!==s.c.VALIDATION_ERRORS)return;console.log("iam here");const{initialValues:a,setErrors:i}=t,o=Object.keys(a),n={};o.forEach((t=>{void 0!==e.data[t]&&(n[t]=e.data[t])})),(0,d.XY)(n)||i(n);const r=Object.keys(e.data);for(let l=0;l<r.length;l++)if(!o.includes(r[l])){c.A.error(e.data[r[l]]);break}},h=e=>({setErrors:e.setErrors,initialValues:e.initialValues,setSubmitting:e.setSubmitting});u.propTypes={initialValues:n().object,validationSchema:n().object.isRequired,onSubmit:n().func.isRequired,overrideConfig:n().object}},6272:(e,t,a)=>{a.d(t,{Ac:()=>o,CV:()=>n,OE:()=>r,ZG:()=>i});const i=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";for(const[a,i]of Object.entries(e))t=t.replace(":".concat(a),i);return t};function o(){const e=new URLSearchParams(window.location.search),t=new Set;e.forEach(((e,a)=>{t.add(a)}));const a=Array.from(t),i=new URLSearchParams;return a.forEach((t=>i.append(t,e.get(t)))),i}const n=e=>{const t="".concat(window.location.pathname,"?").concat(e);window.history.pushState({path:t},"",t)},r=()=>{history.back()}},6444:(e,t,a)=>{a.d(t,{Ay:()=>d,w_:()=>l,Fv:()=>c,j2:()=>s});var i=a(899);const o=e=>e instanceof File,n={file:(e,t)=>!!o(e)||t("field must be a valid file"),image:(e,t)=>{var a;console.log(e,e.size,e.type);const i=(null===e||void 0===e||null===(a=e.type)||void 0===a?void 0:a.split("/")[0])||null;return!(!o(e)||"image"!==i)||t({message:"field must be an image"})}},r=(e,t)=>{var a;return t&&Object.keys(t).forEach((a=>{t[a]?delete e[a]:e[a]=t[a]})),null===(a=Object.values(e))||void 0===a?void 0:a.filter((e=>!!e))},l=e=>r({required:"required",email:"email",trim:"trim"},e),s=e=>r({required:"required",max:"max:255",trim:"trim"},e),c=e=>r({required:"required",min:"min:8",trim:"trim"},e),d=e=>{let t=i.Ik().shape({});return Object.entries(e).forEach((e=>{let[a,o]=e;if(o){let e=i.Yj();o.forEach((t=>{const[a,...i]=t.split(":");e=void 0!==n[a]?e.test(a,"error",((e,t)=>{let{createError:o}=t;return n[a](e,o,...i)})):e[a](...i)})),t=t.shape({[a]:e})}})),t}}}]);
//# sourceMappingURL=151.000dda95.chunk.js.map
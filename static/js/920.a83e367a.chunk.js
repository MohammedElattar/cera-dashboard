"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[920],{4920:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O});var n=a(3003),s=a(5026),r=a(6108);function c(){const e=new URLSearchParams(window.location.search),t=new Set;e.forEach(((e,a)=>{t.add(a)}));const a=Array.from(t),n=new URLSearchParams;return a.forEach((t=>n.append(t,e.get(t)))),n}const l=e=>{const t="".concat(window.location.pathname,"?").concat(e);window.history.pushState({path:t},"",t)},i=()=>{const e=(0,n.wA)(),t=(0,n.d4)((e=>e.contactUsReducer)),a=t.all.data,l=t.all.loading,i=t.all.meta,o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;t=void 0===t?c():t,e((0,r.C_)(!0)),s.A.get("/admin/contact_us",{params:t}).then((t=>{e((0,r.wH)(t.data.data)),e((0,r.Bu)(t.data.meta))})).finally((()=>e((0,r.C_)(!1))))};return{getContactUsTableLogic:o,deleteContactUsLogic:t=>{e((0,r.E5)(!0)),s.A.delete("/admin/contact_us/".concat(t)).then((()=>{o()})).finally((()=>e((0,r.E5)(!1))))},all:a,allLoading:l,meta:i}};var o=a(5043),d=a(579);const h=(0,o.lazy)((()=>a.e(547).then(a.bind(a,6547))));function g(e){return e=Number.parseInt(e),(!Number.isInteger(e)||e<1)&&(e=1),e}function m(e){return e=Number.parseInt(e),(!Number.isInteger(e)||e<5||e>100)&&(e=5),e}function u(e,t){const a=new URLSearchParams(window.location.search);a.set("page",g(e).toString()),a.set("per_page",m(t).toString()),l(a.toString())}const p=(e,t)=>{const[a,n]=(0,o.useState)(m()),[s,r]=(0,o.useState)(g());(0,o.useEffect)((()=>{e()}),[s,a]),(0,o.useEffect)((()=>{n(t.perPage),r(t.currentPage)}),[t]);return{currentPerPage:a,currentPage:s,handlePageChange:e=>{r(e),u(e,a)},handlePerPageChange:e=>{n(e),u(s,e),n(e)},setCurrentPageState:r}};var x=a(5431);var b=a(2327),f=a(2345),j=a(9157),P=a(5080),C=a(5299),w=a(7493),A=a(5060),S=a(8288),v=a(7439),N=a(4993),y=a(8786);const L=e=>{let{title:t,columns:a,data:n,paginationObject:s,pagination:r=!1,searchable:l=!0,handleSearch:i,entriesPerPageOptions:g=[5,10,25,50,75,100]}=e;const[m,u]=(0,o.useState)(c().get("handle")||"");return(0,d.jsx)(o.Fragment,{children:(0,d.jsx)(b.A,{children:(0,d.jsx)(f.A,{sm:"12",children:(0,d.jsx)(o.Fragment,{children:(0,d.jsxs)(j.A,{children:[(0,d.jsx)(P.A,{className:"border-bottom",children:(0,d.jsx)(C.A,{tag:"h4",children:t})}),(0,d.jsxs)(b.A,{className:"mx-0 mt-1 mb-50",children:[r&&(0,d.jsx)(f.A,{sm:"6",children:(0,d.jsxs)("div",{className:"d-flex align-items-center",children:[(0,d.jsx)(w.A,{for:"entries-select",children:"Show"}),(0,d.jsx)(A.A,{className:"dataTable-select",type:"select",id:"entries-select",value:s.currentPerPage,onChange:e=>s.handlePerPageChange(e.target.value),children:g.map((e=>(0,d.jsx)("option",{value:e,children:e},e)))}),(0,d.jsx)(w.A,{for:"entries-select",children:"entries"})]})}),l&&(0,d.jsx)(f.A,{className:"d-flex align-items-center justify-content-sm-end mt-sm-0 mt-1",sm:"6",children:(0,d.jsxs)(S.A,{size:"sm",style:{width:"auto"},children:[(0,d.jsx)("span",{className:"input-group-text",children:(0,d.jsx)(v.A,{onClick:()=>i(m)})}),(0,d.jsx)(A.A,{className:"dataTable-filter",type:"text",id:"search-input",value:m,onChange:e=>{const t=e.target.value;!t&&m&&i(""),u(t)},placeholder:"Search..."})]})})]}),(0,d.jsx)("div",{className:"react-dataTable",children:(0,d.jsx)(y.Ay,{bordered:!0,noHeader:!0,pagination:r,paginationComponent:()=>{return e=s,(0,d.jsx)(h,{...e});var e},paginationServer:!0,className:"react-dataTable",columns:a,sortIcon:(0,d.jsx)(N.A,{size:10}),data:n})})]})})})})})};var U=a(7833),E=a(6259),D=a(64),T=a.n(D);const _=e=>{let{isLoading:t,handleDelete:a}=e;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(E.A,{onClick:()=>T().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then((function(e){!0===e.isConfirmed&&a(),!1===t&&T().fire({icon:"success",title:"Deleted!",text:"Your file has been deleted.",customClass:{confirmButton:"btn btn-success"}})})),size:"sm",color:"transparent",className:"btn btn-icon",children:(0,d.jsx)(U.A,{className:"font-medium-2"})})})},k=e=>{let{actions:t}=e;return(0,d.jsx)("div",{className:"d-flex align-items-center permissions-actions",children:t})},B=e=>[{sortable:!0,name:"Name",minwidth:"250px",selector:e=>e.name},{sortable:!0,name:"Email",minwidth:"250px",selector:e=>e.email},{sortable:!0,name:"Phone",minwidth:"250px",selector:e=>e.phone},{sortable:!0,name:"Message",minwidth:"250px",selector:e=>e.message},{name:"Actions",minwidth:"100px",cell:t=>((e,t)=>{const{handleDelete:a}=t,n=[(0,d.jsx)(_,{handleDelete:()=>a(e.id)},1)];return(0,d.jsx)(k,{row:e,actions:n})})(t,e)}],R=e=>{let{data:t,paginationObject:a,handleDelete:s,handleSearch:r}=e;const c=(0,n.d4)((e=>e.contactUsReducer.all.loading)),l=(0,n.d4)((e=>e.contactUsReducer.deleteLoading));return function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,o.useEffect)((()=>{e?(x.A.dismiss(),x.A.loading("Loading")):x.A.dismiss()}),[e])}(c||l),(0,d.jsx)(L,{handleSearch:r,columns:B({handleDelete:s}),data:t.all,pagination:!0,paginationObject:a,handlePageChange:!0,title:"Contact Us"})},I=e=>({handleSearch:t=>{(e=>{const t=c();t.set("handle",e),l(t.toString())})(t),e()}}),O=()=>{const{all:e,meta:t,getContactUsTableLogic:a,deleteContactUsLogic:n}=i(),{handleSearch:s}=I(a),{currentPerPage:r,currentPage:c,setCurrentPageState:l,handlePageChange:o,handlePerPageChange:h}=p(a,t);return(0,d.jsx)(R,{data:{all:e},handleDelete:n,handleSearch:s,paginationObject:{meta:t,currentPerPage:r,currentPage:c,setCurrentPageState:l,handlePageChange:o,handlePerPageChange:h}})}}}]);
//# sourceMappingURL=920.a83e367a.chunk.js.map
"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[355],{7355:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(5043),r=a(3239),o=a(7339),c=a(4221),i=a(579);const s=(0,n.lazy)((()=>Promise.all([a.e(235),a.e(44)]).then(a.bind(a,7044)))),d=()=>{const{all:e,meta:t,getAllProductsLogic:a,deleteProductLogic:n}=(0,c.A)(),{handleSearch:d}=(0,r.A)(a),{currentPerPage:l,currentPage:u,setCurrentPageState:g,handlePageChange:h,handlePerPageChange:p}=(0,o.A)(a,t);return(0,i.jsx)(s,{data:{all:e},handleDelete:n,handleSearch:d,paginationObject:{meta:t,currentPerPage:l,currentPage:u,setCurrentPageState:g,handlePageChange:h,handlePerPageChange:p}})}},4221:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(3003),r=a(3216),o=a(6272),c=a(1655),i=a(5026),s=a(2812),d=a(2719);const l=()=>{const e=(0,n.wA)(),t=(0,r.Zp)(),a=(0,n.d4)((e=>e.productReducer)),l=a.all.data,u=a.all.meta,g=a.show,h=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;t=void 0===t?(0,o.Ac)():t,e((0,c.ki)(!0)),i.A.get("/api/admin/products",{params:t}).then((t=>{e((0,c.Md)(t.data.data)),e((0,c.Fl)(t.data.meta))})).finally((()=>e((0,c.ki)(!1))))};return{all:l,meta:u,oneProduct:g,getAllProductsLogic:h,storeProductLogic:(e,a)=>{const{setSubmitting:n}=a;n(!0),i.A.postForm("/api/admin/products",e).then((()=>t(s.A.TABLE))).catch((e=>(0,d.dM)(e.response.data,a))).finally((()=>n(!1)))},updateProductLogic:(e,a,n)=>{const{setSubmitting:r}=n;r(!0),i.A.postForm("/api/admin/products/".concat(a),e).then((()=>t(s.A.TABLE))).catch((e=>(0,d.dM)(e.response.data,n))).finally((()=>r(!1)))},deleteProductLogic:e=>{i.A.delete("/api/admin/products/".concat(e)).then((()=>h()))},getOneProductLogic:t=>{e((0,c.ki)(!0)),i.A.get("/api/admin/products/".concat(t)).then((t=>{e((0,c.e9)(t.data.data))})).finally((()=>e((0,c.ki)(!1))))}}}},2719:(e,t,a)=>{a.d(t,{fe:()=>h,dM:()=>g,eA:()=>u});var n=a(3892),r=a(5173),o=a.n(r);const c=e=>{let{initialValues:t,validationSchema:a,onSubmit:n,overrideConfig:r}=e;return{initialValues:t,validateOnBlur:!0,validateOnChange:!1,validateOnMount:!1,enableReinitialize:!0,validationSchema:a,onSubmit:n,...r}};c.propTypes={initialValues:o().object,validationSchema:o().object.isRequired,onSubmit:o().func.isRequired};const i=c;var s=a(6762),d=a(5431),l=a(9546);const u=e=>{const t=i(e);return(0,n.Wx)(t)},g=(e,t)=>{if(e.code!==s.c.VALIDATION_ERRORS)return;console.log("iam here");const{initialValues:a,setErrors:n}=t,r=Object.keys(a),o={};r.forEach((t=>{void 0!==e.data[t]&&(o[t]=e.data[t])})),(0,l.XY)(o)||n(o);const c=Object.keys(e.data);for(let i=0;i<c.length;i++)if(!r.includes(c[i])){d.A.error(e.data[c[i]]);break}},h=e=>({setErrors:e.setErrors,initialValues:e.initialValues,setSubmitting:e.setSubmitting});u.propTypes={initialValues:o().object,validationSchema:o().object.isRequired,onSubmit:o().func.isRequired,overrideConfig:o().object}},4061:(e,t,a)=>{a.d(t,{cN:()=>i,d8:()=>d,pQ:()=>s,u7:()=>l});var n=a(5043),r=a(6272),o=a(579);const c=(0,n.lazy)((()=>a.e(547).then(a.bind(a,6547)))),i=e=>(0,o.jsx)(c,{...e});function s(e){return e=Number.parseInt(e),(!Number.isInteger(e)||e<1)&&(e=1),e}function d(e){return e=Number.parseInt(e),(!Number.isInteger(e)||e<5||e>100)&&(e=5),e}function l(e,t){const a=new URLSearchParams(window.location.search);a.set("page",s(e).toString()),a.set("per_page",d(t).toString()),(0,r.CV)(a.toString())}},6272:(e,t,a)=>{a.d(t,{Ac:()=>r,CV:()=>o,OE:()=>c,ZG:()=>n});const n=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";for(const[a,n]of Object.entries(e))t=t.replace(":".concat(a),n);return t};function r(){const e=new URLSearchParams(window.location.search),t=new Set;e.forEach(((e,a)=>{t.add(a)}));const a=Array.from(t),n=new URLSearchParams;return a.forEach((t=>n.append(t,e.get(t)))),n}const o=e=>{const t="".concat(window.location.pathname,"?").concat(e);window.history.pushState({path:t},"",t)},c=()=>{history.back()}},7941:(e,t,a)=>{a.d(t,{A:()=>r,o:()=>o});var n=a(6272);const r=e=>{const t=(0,n.Ac)();t.set("handle",e),(0,n.CV)(t.toString())},o=()=>(0,n.Ac)().get("handle")||""},7339:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(5043),r=a(4061);const o=(e,t)=>{const[a,o]=(0,n.useState)((0,r.d8)()),[c,i]=(0,n.useState)((0,r.pQ)());(0,n.useEffect)((()=>{e()}),[c,a]),(0,n.useEffect)((()=>{o(t.perPage),i(t.currentPage)}),[t]);return{currentPerPage:a,currentPage:c,handlePageChange:e=>{i(e),(0,r.u7)(e,a)},handlePerPageChange:e=>{o(e),(0,r.u7)(c,e),o(e)},setCurrentPageState:i}}},3239:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(7941);const r=e=>({handleSearch:t=>{(0,n.A)(t),e()}})}}]);
//# sourceMappingURL=355.b406f529.chunk.js.map
"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[151],{4151:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m,emptyColorForm:()=>u});var i=a(3216),r=a(5043),o=a(3865),n=a(2719),l=a(6444);const s=(0,l.Ay)({name:(0,l.j2)(),code:(0,l.j2)()});var c=a(579);const d=(0,r.lazy)((()=>Promise.all([a.e(454),a.e(925),a.e(670)]).then(a.bind(a,9670)))),u={name:"",code:"#eeeeee"},m=()=>{const{getOneColorLogic:e,updateColorLogic:t,storeColorLogic:a,oneColor:l}=(0,o.A)(),{id:m}=(0,i.g)(),h=void 0!==m,g=(0,n.eA)({initialValues:h?{name:l.name,code:l.code}:u,validationSchema:s,onSubmit:e=>{h?t(e,m,(0,n.fe)(g)):a(e,(0,n.fe)(g))}});(0,r.useEffect)((()=>{h&&e(m)}),[]);const{handleChange:f,handleSubmit:b,handleBlur:v,values:p,errors:A,isValid:S,isSubmitting:y,setFieldValue:C,resetForm:j}=g;return(0,c.jsx)(d,{inUpdate:h,formikObject:{handleBlur:v,handleChange:f,handleSubmit:b,values:p,errors:A,isSubmitting:y,isValid:S,setFieldValue:C,resetForm:j}})}},3865:(e,t,a)=>{a.d(t,{A:()=>d});var i=a(3003),r=a(6272),o=a(5026),n=a(2215),l=a(2719),s=a(3216),c=a(1884);const d=()=>{const e=(0,i.wA)(),t=(0,s.Zp)(),a=(0,i.d4)((e=>e.colorsReducer)),d=a.all.data,u=a.all.meta,m=a.show.data,h=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;t=void 0===t?(0,r.Ac)():t,e((0,n.wN)(!0)),o.A.get("/admin/colors",{params:t}).then((t=>{e((0,n.EL)(t.data.data)),e((0,n.P$)(t.data.meta))})).finally((()=>e((0,n.wN)(!1))))};return{all:d,meta:u,oneColor:m,getAllColorsLogic:h,storeColorLogic:(e,a)=>{const{setSubmitting:i}=a;i(!0),o.A.post("/admin/colors",e).then((()=>t(c.A.TABLE))).catch((e=>(0,l.dM)(e.response.data,a))).finally((()=>i(!1)))},updateColorLogic:(e,a,i)=>{const{setSubmitting:r}=i;r(!0),o.A.put("/admin/colors/".concat(a),e).then((()=>t(c.A.TABLE))).catch((e=>(0,l.dM)(e.response.data,i))).finally((()=>r(!1)))},deleteColorLogic:e=>{o.A.delete("admin/colors/".concat(e)).then((()=>h()))},getOneColorLogic:t=>{e((0,n.IQ)(!0)),o.A.get("/admin/colors/".concat(t)).then((t=>{e((0,n.i3)(t.data.data))})).finally((()=>e((0,n.IQ)(!1))))}}}},2719:(e,t,a)=>{a.d(t,{fe:()=>h,dM:()=>m,eA:()=>u});var i=a(3892),r=a(5173),o=a.n(r);const n=e=>{let{initialValues:t,validationSchema:a,onSubmit:i,overrideConfig:r}=e;return{initialValues:t,validateOnBlur:!0,validateOnChange:!1,validateOnMount:!1,enableReinitialize:!0,validationSchema:a,onSubmit:i,...r}};n.propTypes={initialValues:o().object,validationSchema:o().object.isRequired,onSubmit:o().func.isRequired};const l=n;var s=a(6762),c=a(5431),d=a(9546);const u=e=>{const t=l(e);return(0,i.Wx)(t)},m=(e,t)=>{if(e.code!==s.c.VALIDATION_ERRORS)return;console.log("iam here");const{initialValues:a,setErrors:i}=t,r=Object.keys(a),o={};r.forEach((t=>{void 0!==e.data[t]&&(o[t]=e.data[t])})),(0,d.XY)(o)||i(o);const n=Object.keys(e.data);for(let l=0;l<n.length;l++)if(!r.includes(n[l])){c.A.error(e.data[n[l]]);break}},h=e=>({setErrors:e.setErrors,initialValues:e.initialValues,setSubmitting:e.setSubmitting});u.propTypes={initialValues:o().object,validationSchema:o().object.isRequired,onSubmit:o().func.isRequired,overrideConfig:o().object}},6272:(e,t,a)=>{a.d(t,{Ac:()=>r,CV:()=>o,OE:()=>n,ZG:()=>i});const i=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";for(const[a,i]of Object.entries(e))t=t.replace(":".concat(a),i);return t};function r(){const e=new URLSearchParams(window.location.search),t=new Set;e.forEach(((e,a)=>{t.add(a)}));const a=Array.from(t),i=new URLSearchParams;return a.forEach((t=>i.append(t,e.get(t)))),i}const o=e=>{const t="".concat(window.location.pathname,"?").concat(e);window.history.pushState({path:t},"",t)},n=()=>{history.back()}},6444:(e,t,a)=>{a.d(t,{Tf:()=>m,Ay:()=>h,w_:()=>l,UJ:()=>u,F7:()=>c,Fv:()=>d,j2:()=>s});var i=a(899);const r=e=>e instanceof File,o={file:(e,t)=>!!r(e)||t("field must be a valid file"),image:(e,t)=>{var a;console.log(e,e.size,e.type);const i=(null===e||void 0===e||null===(a=e.type)||void 0===a?void 0:a.split("/")[0])||null;return!(!r(e)||"image"!==i)||t({message:"field must be an image"})}},n=(e,t)=>{var a;return t&&Object.keys(t).forEach((a=>{t[a]?delete e[a]:e[a]=t[a]})),null===(a=Object.values(e))||void 0===a?void 0:a.filter((e=>!!e))},l=e=>n({string:"string",required:"required",email:"email",trim:"trim"},e),s=e=>n({string:"string",required:"required",max:"max:255",trim:"trim"},e),c=e=>s({max:null,...e}),d=e=>n({string:"string",required:"required",min:"min:8",trim:"trim"},e),u=e=>n({number:"number",required:"required",min:"min:1"},e),m=e=>n({array:"array",required:"required"},e),h=e=>{let t=i.object().shape({});return Object.entries(e).forEach((e=>{let[a,r]=e;if(r){let e=i;r.forEach((t=>{const[a,...i]=t.split(":");e=void 0!==o[a]?e.test(a,"error",((e,t)=>{let{createError:r}=t;return o[a](e,r,...i)})):e[a](...i)})),t=t.shape({[a]:e})}})),t}}}]);
//# sourceMappingURL=151.2994471b.chunk.js.map
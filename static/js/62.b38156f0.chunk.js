"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[62],{6062:(e,i,a)=>{a.r(i),a.d(i,{default:()=>O});var t=a(5043),n=a(3892),r=a(5173),l=a.n(r);const o=e=>{let{initialValues:i,validationSchema:a,onSubmit:t,overrideConfig:n}=e;return{initialValues:i,validateOnBlur:!0,validateOnChange:!1,validateOnMount:!1,enableReinitialize:!0,validationSchema:a,onSubmit:t,...n}};o.propTypes={initialValues:l().object,validationSchema:l().object.isRequired,onSubmit:l().func.isRequired};const s=o;var u=a(6762);a(5431),a(9546);const c=e=>{const i=s(e);return(0,n.Wx)(i)};c.propTypes={initialValues:l().object,validationSchema:l().object.isRequired,onSubmit:l().func.isRequired,overrideConfig:l().object};var d=a(899);const m=e=>e instanceof File,v={file:(e,i)=>!!m(e)||i("field must be a valid file"),image:(e,i)=>{var a;console.log(e,e.size,e.type);const t=(null===e||void 0===e||null===(a=e.type)||void 0===a?void 0:a.split("/")[0])||null;return!(!m(e)||"image"!==t)||i({message:"field must be an image"})}},f=(e,i)=>{var a;return i&&Object.keys(i).forEach((a=>{i[a]?delete e[a]:e[a]=i[a]})),null===(a=Object.values(e))||void 0===a?void 0:a.filter((e=>!!e))},h=e=>f({required:"required",min:"min:8",trim:"trim"},e),p=e=>{let i=d.Ik().shape({});return Object.entries(e).forEach((e=>{let[a,t]=e;if(t){let e=d.Yj();t.forEach((i=>{const[a,...t]=i.split(":");e=void 0!==v[a]?e.test(a,"error",((e,i)=>{let{createError:n}=i;return v[a](e,n,...t)})):e[a](...t)})),i=i.shape({[a]:e})}})),i},b=()=>{return p({email:(e={required:null},f({required:"required",email:"email",trim:"trim"},e)),password:h({min:null})});var e};var g=a(7073);const S=()=>{const{dispatchLogin:e,loginSelector:i}=(0,g.o)(),{userInfo:a,isLoading:t,code:n}=i;return{handleLogin:async i=>{await e(i)},userInfo:a,isLoading:t,code:n}};var j=a(3216),q=a(1210),k=a(6994),y=a(6537),C=a(579);const E=(0,t.lazy)((()=>a.e(502).then(a.bind(a,8502)))),O=()=>{const e=(0,j.Zp)();(0,t.useEffect)((()=>{(0,k.x3)()?e(q.Sg):(0,y.z)()}),[e]);const{handleLogin:i,isLoading:a,code:n}=S(),r=c({initialValues:{email:"",password:""},validationSchema:b(),onSubmit:e=>i(e)});return(0,t.useEffect)((()=>{n===u.c.OK&&e(q.Sg,{replace:!0})}),[n]),(0,C.jsx)(E,{handleSubmit:r.handleSubmit,formikValues:r.values,handleChange:r.handleChange,formikErrors:r.errors,isSubmitting:a})}}}]);
//# sourceMappingURL=62.b38156f0.chunk.js.map